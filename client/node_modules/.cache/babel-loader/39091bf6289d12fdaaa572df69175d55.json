{"ast":null,"code":"import * as api from '../../api/index.js';\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst POSTS_URL = 'http://localhost:5000';\nconst initialState = {\n  token: '',\n  status: 'idle',\n  //'idle' | 'loading' | 'succeeded' | 'failed'\n  error: null\n};\nexport const signup = createAsyncThunk('/user/signin', async formData => {\n  // const response = await axios.get(POSTS_URL)\n  const {\n    form\n  } = formData;\n  console.log('formData:' + JSON.stringify(formData));\n  console.log('form:' + JSON.stringify(form));\n  const response = await api.signUp(form);\n  return response.data;\n});\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    increment: state => {\n      state.count += 1;\n    },\n    decrement: state => {\n      state.count -= 1;\n    }\n  },\n\n  extraReducers(builder) {\n    builder.addCase(signup.fulfilled, (state, action) => {\n      console.log('inside builder'); // state.posts.push(action.payload)\n\n      state.token = JSON.stringify(action.payload.token);\n    });\n  }\n\n});\nexport const getToken = state => state.auth.token;\nexport const getAuthStatus = state => state.auth.status;\nexport const getAuthError = state => state.auth.error;\nexport const {\n  increment,\n  decrement\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["api","createSlice","createAsyncThunk","axios","POSTS_URL","initialState","token","status","error","signup","formData","form","console","log","JSON","stringify","response","signUp","data","authSlice","name","reducers","increment","state","count","decrement","extraReducers","builder","addCase","fulfilled","action","payload","getToken","auth","getAuthStatus","getAuthError","actions","reducer"],"sources":["C:/Users/Aditya Gautam/Desktop/curious fella/web development/React Projects/ProductReview-V1/client/src/components/Auth/authSlice.js"],"sourcesContent":["\r\nimport * as api from '../../api/index.js';\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst POSTS_URL = 'http://localhost:5000';\r\n\r\nconst initialState = {\r\n    token: '',\r\n    status: 'idle', //'idle' | 'loading' | 'succeeded' | 'failed'\r\n    error: null\r\n}\r\n\r\nexport const signup = createAsyncThunk('/user/signin', async (formData) => {\r\n    // const response = await axios.get(POSTS_URL)\r\n    const { form } = formData\r\n    console.log('formData:' + JSON.stringify(formData))\r\n    console.log('form:' + JSON.stringify(form))\r\n    const response = await api.signUp(form)\r\n\r\n    return response.data\r\n})\r\n\r\nexport const authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState,\r\n    reducers: {\r\n        increment: (state) => {\r\n            state.count += 1;\r\n        },\r\n        decrement: (state) => {\r\n            state.count -= 1;\r\n        },\r\n    },\r\n    extraReducers(builder) {\r\n        builder\r\n            .addCase(signup.fulfilled, (state, action) => {\r\n                console.log('inside builder');\r\n                // state.posts.push(action.payload)\r\n                state.token = JSON.stringify(action.payload.token);\r\n            })\r\n    }\r\n});\r\n\r\nexport const getToken = (state) => state.auth.token;\r\nexport const getAuthStatus = (state) => state.auth.status;\r\nexport const getAuthError = (state) => state.auth.error;\r\n\r\nexport const { increment, decrement } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;"],"mappings":"AACA,OAAO,KAAKA,GAAZ,MAAqB,oBAArB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,MAAMC,SAAS,GAAG,uBAAlB;AAEA,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,EADU;EAEjBC,MAAM,EAAE,MAFS;EAED;EAChBC,KAAK,EAAE;AAHU,CAArB;AAMA,OAAO,MAAMC,MAAM,GAAGP,gBAAgB,CAAC,cAAD,EAAiB,MAAOQ,QAAP,IAAoB;EACvE;EACA,MAAM;IAAEC;EAAF,IAAWD,QAAjB;EACAE,OAAO,CAACC,GAAR,CAAY,cAAcC,IAAI,CAACC,SAAL,CAAeL,QAAf,CAA1B;EACAE,OAAO,CAACC,GAAR,CAAY,UAAUC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAtB;EACA,MAAMK,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,MAAJ,CAAWN,IAAX,CAAvB;EAEA,OAAOK,QAAQ,CAACE,IAAhB;AACH,CARqC,CAA/B;AAUP,OAAO,MAAMC,SAAS,GAAGlB,WAAW,CAAC;EACjCmB,IAAI,EAAE,MAD2B;EAEjCf,YAFiC;EAGjCgB,QAAQ,EAAE;IACNC,SAAS,EAAGC,KAAD,IAAW;MAClBA,KAAK,CAACC,KAAN,IAAe,CAAf;IACH,CAHK;IAINC,SAAS,EAAGF,KAAD,IAAW;MAClBA,KAAK,CAACC,KAAN,IAAe,CAAf;IACH;EANK,CAHuB;;EAWjCE,aAAa,CAACC,OAAD,EAAU;IACnBA,OAAO,CACFC,OADL,CACanB,MAAM,CAACoB,SADpB,EAC+B,CAACN,KAAD,EAAQO,MAAR,KAAmB;MAC1ClB,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAD0C,CAE1C;;MACAU,KAAK,CAACjB,KAAN,GAAcQ,IAAI,CAACC,SAAL,CAAee,MAAM,CAACC,OAAP,CAAezB,KAA9B,CAAd;IACH,CALL;EAMH;;AAlBgC,CAAD,CAA7B;AAqBP,OAAO,MAAM0B,QAAQ,GAAIT,KAAD,IAAWA,KAAK,CAACU,IAAN,CAAW3B,KAAvC;AACP,OAAO,MAAM4B,aAAa,GAAIX,KAAD,IAAWA,KAAK,CAACU,IAAN,CAAW1B,MAA5C;AACP,OAAO,MAAM4B,YAAY,GAAIZ,KAAD,IAAWA,KAAK,CAACU,IAAN,CAAWzB,KAA3C;AAEP,OAAO,MAAM;EAAEc,SAAF;EAAaG;AAAb,IAA2BN,SAAS,CAACiB,OAA3C;AAEP,eAAejB,SAAS,CAACkB,OAAzB"},"metadata":{},"sourceType":"module"}